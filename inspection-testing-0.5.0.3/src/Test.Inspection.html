<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621679183182"><span id="local-6989586621679183183"><span id="local-6989586621679183184"><span id="local-6989586621679183185"><span id="local-6989586621679183186"><span id="local-6989586621679183187"><span id="local-6989586621679183188"><span id="local-6989586621679183189"><span id="local-6989586621679183190"><span id="local-6989586621679183191"><span id="local-6989586621679183192"><span id="local-6989586621679183193"><span id="local-6989586621679183194"></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-comment">-- |</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- Description : Inspection Testing for Haskell</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Copyright   : (c) Joachim Breitner, 2017</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- License     : MIT</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Maintainer  : mail@joachim-breitner.de</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Portability : GHC specifc</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- This module supports the accompanying GHC plugin &quot;Test.Inspection.Plugin&quot; and adds</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- to GHC the ability to do inspection testing.</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Test.Inspection</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Synopsis</span></span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><span class="hs-comment">-- $synopsis</span></span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Registering obligations</span></span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Test.Inspection.html#inspect"><span class="hs-identifier">inspect</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Test.Inspection.html#inspectTest"><span class="hs-identifier">inspectTest</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Test.Inspection.html#Result"><span class="hs-identifier">Result</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Defining obligations</span></span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier">Obligation</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#mkObligation"><span class="hs-identifier">mkObligation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#Equivalence"><span class="hs-identifier">Equivalence</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#Property"><span class="hs-identifier">Property</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Convenience functions</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><span class="hs-comment">-- $convenience</span></span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Test.Inspection.html#%3D%3D%3D"><span class="hs-operator">(===)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%3D-"><span class="hs-operator">(==-)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%2F%3D"><span class="hs-operator">(=/=)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%2F-"><span class="hs-operator">(=/-)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%3D~"><span class="hs-operator">(==~)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%2F~"><span class="hs-operator">(=/~)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Test.Inspection.html#hasNoType"><span class="hs-identifier">hasNoType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#hasNoGenerics"><span class="hs-identifier">hasNoGenerics</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Test.Inspection.html#hasNoTypeClasses"><span class="hs-identifier">hasNoTypeClasses</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#hasNoTypeClassesExcept"><span class="hs-identifier">hasNoTypeClassesExcept</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Test.Inspection.html#doesNotUse"><span class="hs-identifier">doesNotUse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Inspection.html#coreOf"><span class="hs-identifier">coreOf</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Quasi</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">qNewName</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">liftData</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">addTopDecls</span></span><span class="hs-special">)</span><span class="hs-cpp">
#if MIN_VERSION_GLASGOW_HASKELL(8,4,0,0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">addCorePlugin</span></span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Data</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Exts</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">lazy</span></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">V1</span></span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">U1</span></span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">M1</span></span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">K1</span></span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(:+:)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(:*:)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(:.:)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Rec1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Par1</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="annot"><span class="hs-comment">{- $synopsis

To use inspection testing, you need to

 1. enable the @TemplateHaskell@ language extension
 2. declare your proof obligations using 'inspect' or 'inspectTest'

An example module is

@
{&amp;#45;\# LANGUAGE TemplateHaskell \#&amp;#45;}
module Simple where

import Test.Inspection
import Data.Maybe

lhs, rhs :: (a -&gt; b) -&gt; Maybe a -&gt; Bool
lhs f x = isNothing (fmap f x)
rhs f Nothing = True
rhs f (Just _) = False

inspect $ 'lhs === 'rhs
@

On GHC &lt; 8.4, you have to explicitly load the plugin:
@
{&amp;#45;\# OPTIONS_GHC -fplugin=Test.Inspection.Plugin \#&amp;#45;}
@
-}</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- Description of test obligations</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-comment">-- | This data type describes an inspection testing obligation.</span><span>
</span><span id="line-78"></span><span class="hs-comment">--</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- It is recommended to build it using 'mkObligation', for backwards</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- compatibility when new fields are added. You can also use the more</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- mnemonic convenience functions like '(===)' or 'hasNoType'.</span><span>
</span><span id="line-82"></span><span class="hs-comment">--</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- The obligation needs to be passed to 'inspect' or 'inspectTest'.</span><span>
</span><span id="line-84"></span><span class="hs-comment">--</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-86"></span><span class="hs-keyword">data</span><span> </span><span id="Obligation"><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-var">Obligation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Obligation"><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-var">Obligation</span></a></span></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="target"><span class="annot"><span class="annottext">Obligation -&gt; Name
</span><a href="Test.Inspection.html#target"><span class="hs-identifier hs-var hs-var">target</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-88"></span><span>        </span><span class="hs-comment">-- ^ The target of a test obligation; invariably the name of a local</span><span>
</span><span id="line-89"></span><span>        </span><span class="hs-comment">-- definition. To get the name of a function @foo@, write @'foo@. This requires</span><span>
</span><span id="line-90"></span><span>        </span><span class="hs-comment">-- @{&amp;#45;\# LANGUAGE TemplateHaskell \#&amp;#45;}@.</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="property"><span class="annot"><span class="annottext">Obligation -&gt; Property
</span><a href="Test.Inspection.html#property"><span class="hs-identifier hs-var hs-var">property</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Inspection.html#Property"><span class="hs-identifier hs-type">Property</span></a></span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ The property of the target to be checked.</span></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="testName"><span class="annot"><span class="annottext">Obligation -&gt; Maybe String
</span><a href="Test.Inspection.html#testName"><span class="hs-identifier hs-var hs-var">testName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ An optional name for the test</span></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="expectFail"><span class="annot"><span class="annottext">Obligation -&gt; Bool
</span><a href="Test.Inspection.html#expectFail"><span class="hs-identifier hs-var hs-var">expectFail</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-96"></span><span>        </span><span class="hs-comment">-- ^ Do we expect this property to fail?</span><span>
</span><span id="line-97"></span><span>        </span><span class="hs-comment">-- (Only used by 'inspect', not by 'inspectTest')</span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="srcLoc"><span class="annot"><span class="annottext">Obligation -&gt; Maybe Loc
</span><a href="Test.Inspection.html#srcLoc"><span class="hs-identifier hs-var hs-var">srcLoc</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Loc</span></span><span>
</span><span id="line-99"></span><span>        </span><span class="hs-comment">-- ^ The source location where this obligation is defined.</span><span>
</span><span id="line-100"></span><span>        </span><span class="hs-comment">-- This is filled in by 'inspect'.</span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="storeResult"><span class="annot"><span class="annottext">Obligation -&gt; Maybe String
</span><a href="Test.Inspection.html#storeResult"><span class="hs-identifier hs-var hs-var">storeResult</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-102"></span><span>        </span><span class="hs-comment">-- ^ If this is 'Nothing', then report errors during compilation.</span><span>
</span><span id="line-103"></span><span>        </span><span class="hs-comment">-- Otherwise, update the top-level definition with this name.</span><span>
</span><span id="line-104"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-105"></span><span>        </span><span class="hs-comment">-- @since 0.2</span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679183243"><span id="local-6989586621679183257"><span id="local-6989586621679183267"><span id="local-6989586621679183269"><span id="local-6989586621679183271"><span id="local-6989586621679183276"><span id="local-6989586621679183281"><span id="local-6989586621679183284"><span id="local-6989586621679183287"><span id="local-6989586621679183290"><span id="local-6989586621679183293"><span id="local-6989586621679183296"><span id="local-6989586621679183301"><span id="local-6989586621679183306"><span class="annot"><span class="annottext">Typeable Obligation
Typeable Obligation =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; Obligation -&gt; c Obligation)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Obligation)
-&gt; (Obligation -&gt; Constr)
-&gt; (Obligation -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Obligation))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c Obligation))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; Obligation -&gt; Obligation)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Obligation -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Obligation -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Obligation -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Obligation -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation)
-&gt; Data Obligation
Obligation -&gt; Constr
Obligation -&gt; DataType
(forall b. Data b =&gt; b -&gt; b) -&gt; Obligation -&gt; Obligation
forall a.
Typeable a =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Obligation -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Obligation -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Obligation -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Obligation -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Obligation
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Obligation -&gt; c Obligation
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Obligation)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Obligation)
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Obligation -&gt; c Obligation
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Obligation -&gt; c Obligation
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Obligation
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Obligation
$ctoConstr :: Obligation -&gt; Constr
toConstr :: Obligation -&gt; Constr
$cdataTypeOf :: Obligation -&gt; DataType
dataTypeOf :: Obligation -&gt; DataType
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Obligation)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Obligation)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Obligation)
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Obligation)
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Obligation -&gt; Obligation
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Obligation -&gt; Obligation
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Obligation -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Obligation -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Obligation -&gt; r
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Obligation -&gt; r
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Obligation -&gt; [u]
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Obligation -&gt; [u]
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Obligation -&gt; u
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Obligation -&gt; u
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Obligation -&gt; m Obligation
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">-- | Properties of the obligation target to be checked.</span><span>
</span><span id="line-110"></span><span class="hs-comment">--</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-112"></span><span class="hs-keyword">data</span><span> </span><span id="Property"><span class="annot"><a href="Test.Inspection.html#Property"><span class="hs-identifier hs-var">Property</span></a></span></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-comment">-- | Are the two functions equal?</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-comment">-- More precisely: @f@ is equal to @g@ if either the definition of @f@ is</span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-comment">-- @f = g@, or the definition of @g@ is @g = f@, or if the definitions are</span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-comment">-- @f = e@ and @g = e@.</span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-comment">-- In general @f@ and @g@ need to be defined in this module, so that their</span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-comment">-- actual defintions can be inspected.</span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-comment">-- The `Equivalence` indicates how strict to check for equality</span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="EqualTo"><span class="annot"><a href="Test.Inspection.html#EqualTo"><span class="hs-identifier hs-var">EqualTo</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="annot"><a href="Test.Inspection.html#Equivalence"><span class="hs-identifier hs-type">Equivalence</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-comment">-- | Do none of these types appear anywhere in the definition of the function</span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-comment">-- (neither locally bound nor passed as arguments)</span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-comment">-- @since 0.3</span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="NoTypes"><span class="annot"><a href="Test.Inspection.html#NoTypes"><span class="hs-identifier hs-var">NoTypes</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span class="hs-special">]</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Does this function perform no heap allocations.</span></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="NoAllocation"><span class="annot"><a href="Test.Inspection.html#NoAllocation"><span class="hs-identifier hs-var">NoAllocation</span></a></span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-comment">-- | Does this value contain dictionaries (/except/ of the listed classes).</span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-comment">-- @since 0.3</span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="NoTypeClasses"><span class="annot"><a href="Test.Inspection.html#NoTypeClasses"><span class="hs-identifier hs-var">NoTypeClasses</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-comment">-- | Does not contain this value (in terms or patterns)</span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-comment">-- @since 0.4.1</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="NoUseOf"><span class="annot"><a href="Test.Inspection.html#NoUseOf"><span class="hs-identifier hs-var">NoUseOf</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span class="hs-special">]</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-comment">-- | Always satisfied, but dumps the value in non-quiet mode.</span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-comment">-- @since 0.4.2</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="CoreOf"><span class="annot"><a href="Test.Inspection.html#CoreOf"><span class="hs-identifier hs-var">CoreOf</span></a></span></span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679183325"><span id="local-6989586621679183333"><span id="local-6989586621679183340"><span id="local-6989586621679183342"><span id="local-6989586621679183344"><span id="local-6989586621679183349"><span id="local-6989586621679183354"><span id="local-6989586621679183357"><span id="local-6989586621679183360"><span id="local-6989586621679183363"><span id="local-6989586621679183366"><span id="local-6989586621679183369"><span id="local-6989586621679183374"><span id="local-6989586621679183379"><span class="annot"><span class="annottext">Typeable Property
Typeable Property =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; Property -&gt; c Property)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Property)
-&gt; (Property -&gt; Constr)
-&gt; (Property -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Property))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Property))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; Property -&gt; Property)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Property -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Property -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Property -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Property -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property)
-&gt; Data Property
Property -&gt; Constr
Property -&gt; DataType
(forall b. Data b =&gt; b -&gt; b) -&gt; Property -&gt; Property
forall a.
Typeable a =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Property -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Property -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Property -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Property -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Property
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Property -&gt; c Property
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Property)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Property)
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Property -&gt; c Property
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Property -&gt; c Property
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Property
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Property
$ctoConstr :: Property -&gt; Constr
toConstr :: Property -&gt; Constr
$cdataTypeOf :: Property -&gt; DataType
dataTypeOf :: Property -&gt; DataType
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Property)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Property)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Property)
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Property)
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Property -&gt; Property
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Property -&gt; Property
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Property -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Property -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Property -&gt; r
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Property -&gt; r
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Property -&gt; [u]
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Property -&gt; [u]
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Property -&gt; u
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Property -&gt; u
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Property -&gt; m Property
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- | Equivalence of terms.</span><span>
</span><span id="line-151"></span><span class="hs-comment">--</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- @since 0.5</span><span>
</span><span id="line-153"></span><span class="hs-keyword">data</span><span> </span><span id="Equivalence"><span class="annot"><a href="Test.Inspection.html#Equivalence"><span class="hs-identifier hs-var">Equivalence</span></a></span></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="StrictEquiv"><span class="annot"><a href="Test.Inspection.html#StrictEquiv"><span class="hs-identifier hs-var">StrictEquiv</span></a></span></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ strict term equality</span></span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="IgnoreTypesAndTicksEquiv"><span class="annot"><a href="Test.Inspection.html#IgnoreTypesAndTicksEquiv"><span class="hs-identifier hs-var">IgnoreTypesAndTicksEquiv</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ ignore types and hpc ticks during the comparison</span></span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="UnorderedLetsEquiv"><span class="annot"><a href="Test.Inspection.html#UnorderedLetsEquiv"><span class="hs-identifier hs-var">UnorderedLetsEquiv</span></a></span></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ allow permuted let bindings, ignore types and hpc tick during comparison</span></span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679183389"><span id="local-6989586621679183391"><span id="local-6989586621679183393"><span id="local-6989586621679183395"><span id="local-6989586621679183397"><span id="local-6989586621679183402"><span id="local-6989586621679183407"><span id="local-6989586621679183410"><span id="local-6989586621679183413"><span id="local-6989586621679183416"><span id="local-6989586621679183419"><span id="local-6989586621679183422"><span id="local-6989586621679183427"><span id="local-6989586621679183432"><span class="annot"><span class="annottext">Typeable Equivalence
Typeable Equivalence =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; Equivalence -&gt; c Equivalence)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Equivalence)
-&gt; (Equivalence -&gt; Constr)
-&gt; (Equivalence -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Equivalence))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c Equivalence))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; Equivalence -&gt; Equivalence)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Equivalence -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Equivalence -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Equivalence -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Equivalence -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence)
-&gt; Data Equivalence
Equivalence -&gt; Constr
Equivalence -&gt; DataType
(forall b. Data b =&gt; b -&gt; b) -&gt; Equivalence -&gt; Equivalence
forall a.
Typeable a =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Equivalence -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Equivalence -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Equivalence -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Equivalence -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Equivalence
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Equivalence -&gt; c Equivalence
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Equivalence)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c Equivalence)
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Equivalence -&gt; c Equivalence
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Equivalence -&gt; c Equivalence
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Equivalence
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Equivalence
$ctoConstr :: Equivalence -&gt; Constr
toConstr :: Equivalence -&gt; Constr
$cdataTypeOf :: Equivalence -&gt; DataType
dataTypeOf :: Equivalence -&gt; DataType
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Equivalence)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Equivalence)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c Equivalence)
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c Equivalence)
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Equivalence -&gt; Equivalence
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Equivalence -&gt; Equivalence
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Equivalence -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Equivalence -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Equivalence -&gt; r
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Equivalence -&gt; r
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Equivalence -&gt; [u]
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Equivalence -&gt; [u]
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Equivalence -&gt; u
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Equivalence -&gt; u
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Equivalence -&gt; m Equivalence
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- | Creates an inspection obligation for the given function name</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- with default values for the optional fields.</span><span>
</span><span id="line-161"></span><span class="hs-comment">--</span><span>
</span><span id="line-162"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-163"></span><span class="annot"><a href="Test.Inspection.html#mkObligation"><span class="hs-identifier hs-type">mkObligation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Property"><span class="hs-identifier hs-type">Property</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-164"></span><span id="mkObligation"><span class="annot"><span class="annottext">mkObligation :: Name -&gt; Property -&gt; Obligation
</span><a href="Test.Inspection.html#mkObligation"><span class="hs-identifier hs-var hs-var">mkObligation</span></a></span></span><span> </span><span id="local-6989586621679183436"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183436"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span id="local-6989586621679183437"><span class="annot"><span class="annottext">Property
</span><a href="#local-6989586621679183437"><span class="hs-identifier hs-var">prop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">target :: Name
</span><a href="Test.Inspection.html#target"><span class="hs-identifier hs-var">target</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183436"><span class="hs-identifier hs-var">target</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">property :: Property
</span><a href="Test.Inspection.html#property"><span class="hs-identifier hs-var">property</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Property
</span><a href="#local-6989586621679183437"><span class="hs-identifier hs-var">prop</span></a></span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">testName :: Maybe String
</span><a href="Test.Inspection.html#testName"><span class="hs-identifier hs-var">testName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">srcLoc :: Maybe Loc
</span><a href="Test.Inspection.html#srcLoc"><span class="hs-identifier hs-var">srcLoc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Loc
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">expectFail :: Bool
</span><a href="Test.Inspection.html#expectFail"><span class="hs-identifier hs-var">expectFail</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">storeResult :: Maybe String
</span><a href="Test.Inspection.html#storeResult"><span class="hs-identifier hs-var">storeResult</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="annot"><span class="hs-comment">{- $convenience

These convenience functions create common test obligations directly.
-}</span></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-comment">-- | Declare two functions to be equal (see 'EqualTo')</span><span>
</span><span id="line-179"></span><span class="hs-comment">--</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-181"></span><span class="annot"><a href="Test.Inspection.html#%3D%3D%3D"><span class="hs-operator hs-type">(===)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-182"></span><span id="%3D%3D%3D"><span class="annot"><span class="annottext">=== :: Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#%3D%3D%3D"><span class="hs-operator hs-var hs-var">(===)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Equivalence -&gt; Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#mkEquality"><span class="hs-identifier hs-var">mkEquality</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Equivalence
</span><a href="Test.Inspection.html#StrictEquiv"><span class="hs-identifier hs-var">StrictEquiv</span></a></span><span>
</span><span id="line-183"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">9</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%3D%3D"><span class="hs-operator hs-type">===</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="hs-comment">-- | Declare two functions to be equal, but ignoring</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- type lambdas, type arguments, type casts and hpc ticks (see 'EqualTo').</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- Note that @-fhpc@ can prevent some optimizations; build without for more reliable analysis.</span><span>
</span><span id="line-188"></span><span class="hs-comment">--</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- @since 0.1.1</span><span>
</span><span id="line-190"></span><span class="annot"><a href="Test.Inspection.html#%3D%3D-"><span class="hs-operator hs-type">(==-)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-191"></span><span id="%3D%3D-"><span class="annot"><span class="annottext">==- :: Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#%3D%3D-"><span class="hs-operator hs-var hs-var">(==-)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Equivalence -&gt; Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#mkEquality"><span class="hs-identifier hs-var">mkEquality</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Equivalence
</span><a href="Test.Inspection.html#IgnoreTypesAndTicksEquiv"><span class="hs-identifier hs-var">IgnoreTypesAndTicksEquiv</span></a></span><span>
</span><span id="line-192"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">9</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%3D-"><span class="hs-operator hs-type">==-</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="hs-comment">-- | Declare two functions to be equal as @('==-')@ but also ignoring</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- let bindings ordering (see 'EqualTo').</span><span>
</span><span id="line-196"></span><span class="hs-comment">--</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- @since 0.5</span><span>
</span><span id="line-198"></span><span class="annot"><a href="Test.Inspection.html#%3D%3D~"><span class="hs-operator hs-type">(==~)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-199"></span><span id="%3D%3D~"><span class="annot"><span class="annottext">==~ :: Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#%3D%3D~"><span class="hs-operator hs-var hs-var">(==~)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Equivalence -&gt; Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#mkEquality"><span class="hs-identifier hs-var">mkEquality</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Equivalence
</span><a href="Test.Inspection.html#UnorderedLetsEquiv"><span class="hs-identifier hs-var">UnorderedLetsEquiv</span></a></span><span>
</span><span id="line-200"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">9</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%3D~"><span class="hs-operator hs-type">==~</span></a></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">-- | Declare two functions to be equal, but expect the test to fail (see 'EqualTo' and 'expectFail')</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- (This is useful for documentation purposes, or as a TODO list.)</span><span>
</span><span id="line-204"></span><span class="hs-comment">--</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-206"></span><span class="annot"><a href="Test.Inspection.html#%3D%2F%3D"><span class="hs-operator hs-type">(=/=)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-207"></span><span id="%3D%2F%3D"><span class="annot"><span class="annottext">=/= :: Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#%3D%2F%3D"><span class="hs-operator hs-var hs-var">(=/=)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Equivalence -&gt; Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#mkEquality"><span class="hs-identifier hs-var">mkEquality</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Equivalence
</span><a href="Test.Inspection.html#StrictEquiv"><span class="hs-identifier hs-var">StrictEquiv</span></a></span><span>
</span><span id="line-208"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">9</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%2F%3D"><span class="hs-operator hs-type">=/=</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-comment">-- | Declare two functions to be equal up to types (see '(==-)'),</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- but expect the test to fail (see 'expectFail').</span><span>
</span><span id="line-212"></span><span class="hs-comment">--</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- @since 0.4.3.0</span><span>
</span><span id="line-214"></span><span class="annot"><a href="Test.Inspection.html#%3D%2F-"><span class="hs-operator hs-type">(=/-)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-215"></span><span id="%3D%2F-"><span class="annot"><span class="annottext">=/- :: Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#%3D%2F-"><span class="hs-operator hs-var hs-var">(=/-)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Equivalence -&gt; Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#mkEquality"><span class="hs-identifier hs-var">mkEquality</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Equivalence
</span><a href="Test.Inspection.html#IgnoreTypesAndTicksEquiv"><span class="hs-identifier hs-var">IgnoreTypesAndTicksEquiv</span></a></span><span>
</span><span id="line-216"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">9</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%2F-"><span class="hs-operator hs-type">=/-</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | Declare two functions to be equal up to let binding ordering (see '(==~)'),</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- but expect the test to fail (see 'expectFail').</span><span>
</span><span id="line-220"></span><span class="hs-comment">--</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- @since 0.5</span><span>
</span><span id="line-222"></span><span class="annot"><a href="Test.Inspection.html#%3D%2F~"><span class="hs-operator hs-type">(=/~)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-223"></span><span id="%3D%2F~"><span class="annot"><span class="annottext">=/~ :: Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#%3D%2F~"><span class="hs-operator hs-var hs-var">(=/~)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Equivalence -&gt; Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#mkEquality"><span class="hs-identifier hs-var">mkEquality</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Equivalence
</span><a href="Test.Inspection.html#UnorderedLetsEquiv"><span class="hs-identifier hs-var">UnorderedLetsEquiv</span></a></span><span>
</span><span id="line-224"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">9</span><span> </span><span class="annot"><a href="Test.Inspection.html#%3D%2F~"><span class="hs-operator hs-type">=/~</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="annot"><a href="Test.Inspection.html#mkEquality"><span class="hs-identifier hs-type">mkEquality</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Equivalence"><span class="hs-identifier hs-type">Equivalence</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-227"></span><span id="mkEquality"><span class="annot"><span class="annottext">mkEquality :: Bool -&gt; Equivalence -&gt; Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#mkEquality"><span class="hs-identifier hs-var hs-var">mkEquality</span></a></span></span><span> </span><span id="local-6989586621679183439"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679183439"><span class="hs-identifier hs-var">expectFail</span></a></span></span><span> </span><span id="local-6989586621679183440"><span class="annot"><span class="annottext">Equivalence
</span><a href="#local-6989586621679183440"><span class="hs-identifier hs-var">ignore_types</span></a></span></span><span> </span><span id="local-6989586621679183441"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183441"><span class="hs-identifier hs-var">n1</span></a></span></span><span> </span><span id="local-6989586621679183442"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183442"><span class="hs-identifier hs-var">n2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-228"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Property -&gt; Obligation
</span><a href="Test.Inspection.html#mkObligation"><span class="hs-identifier hs-var">mkObligation</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183441"><span class="hs-identifier hs-var">n1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Equivalence -&gt; Property
</span><a href="Test.Inspection.html#EqualTo"><span class="hs-identifier hs-var">EqualTo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183442"><span class="hs-identifier hs-var">n2</span></a></span><span> </span><span class="annot"><span class="annottext">Equivalence
</span><a href="#local-6989586621679183440"><span class="hs-identifier hs-var">ignore_types</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Test.Inspection.html#expectFail"><span class="hs-identifier hs-var">expectFail</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679183439"><span class="hs-identifier hs-type">expectFail</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-comment">-- | Declare that in a function&#8217;s implementation, the given type does not occur.</span><span>
</span><span id="line-232"></span><span class="hs-comment">--</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- More precisely: No locally bound variable (let-bound, lambda-bound or</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- pattern-bound) has a type that contains the given type constructor.</span><span>
</span><span id="line-235"></span><span class="hs-comment">--</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- @'inspect' $ fusedFunction ``hasNoType`` ''[]@</span><span>
</span><span id="line-237"></span><span class="hs-comment">--</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-239"></span><span class="annot"><a href="Test.Inspection.html#hasNoType"><span class="hs-identifier hs-type">hasNoType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-240"></span><span id="hasNoType"><span class="annot"><span class="annottext">hasNoType :: Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#hasNoType"><span class="hs-identifier hs-var hs-var">hasNoType</span></a></span></span><span> </span><span id="local-6989586621679183443"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183443"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679183444"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183444"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Property -&gt; Obligation
</span><a href="Test.Inspection.html#mkObligation"><span class="hs-identifier hs-var">mkObligation</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183443"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Property
</span><a href="Test.Inspection.html#NoTypes"><span class="hs-identifier hs-var">NoTypes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183444"><span class="hs-identifier hs-var">tn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">-- | Declare that a function&#8217;s implementation does not contain any generic types.</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- This is just 'hasNoType' applied to the usual type constructors used in</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- &quot;GHC.Generics&quot;.</span><span>
</span><span id="line-245"></span><span class="hs-comment">--</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- @inspect $ hasNoGenerics genericFunction@</span><span>
</span><span id="line-247"></span><span class="hs-comment">--</span><span>
</span><span id="line-248"></span><span class="hs-comment">-- @since 0.3</span><span>
</span><span id="line-249"></span><span class="annot"><a href="Test.Inspection.html#hasNoGenerics"><span class="hs-identifier hs-type">hasNoGenerics</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-250"></span><span id="hasNoGenerics"><span class="annot"><span class="annottext">hasNoGenerics :: Name -&gt; Obligation
</span><a href="Test.Inspection.html#hasNoGenerics"><span class="hs-identifier hs-var hs-var">hasNoGenerics</span></a></span></span><span> </span><span id="local-6989586621679183445"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183445"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><span class="annottext">Name -&gt; Property -&gt; Obligation
</span><a href="Test.Inspection.html#mkObligation"><span class="hs-identifier hs-var">mkObligation</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183445"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-252"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Property
</span><a href="Test.Inspection.html#NoTypes"><span class="hs-identifier hs-var">NoTypes</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">V1</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">U1</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">M1</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">K1</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-special">(</span><span class="hs-operator">:+:</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-special">(</span><span class="hs-operator">:*:</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-special">(</span><span class="hs-operator">:.:</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Rec1</span><span>
</span><span id="line-253"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Par1</span><span>
</span><span id="line-254"></span><span>                 </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="hs-comment">-- | Declare that a function's implementation does not include dictionaries.</span><span>
</span><span id="line-257"></span><span class="hs-comment">--</span><span>
</span><span id="line-258"></span><span class="hs-comment">-- More precisely: No locally bound variable (let-bound, lambda-bound or</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- pattern-bound) has a type that contains a type that mentions a type class.</span><span>
</span><span id="line-260"></span><span class="hs-comment">--</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- @'inspect' $ 'hasNoTypeClasses' specializedFunction@</span><span>
</span><span id="line-262"></span><span class="hs-comment">--</span><span>
</span><span id="line-263"></span><span class="hs-comment">-- @since 0.3</span><span>
</span><span id="line-264"></span><span class="annot"><a href="Test.Inspection.html#hasNoTypeClasses"><span class="hs-identifier hs-type">hasNoTypeClasses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-265"></span><span id="hasNoTypeClasses"><span class="annot"><span class="annottext">hasNoTypeClasses :: Name -&gt; Obligation
</span><a href="Test.Inspection.html#hasNoTypeClasses"><span class="hs-identifier hs-var hs-var">hasNoTypeClasses</span></a></span></span><span> </span><span id="local-6989586621679183446"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183446"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; Obligation
</span><a href="Test.Inspection.html#hasNoTypeClassesExcept"><span class="hs-identifier hs-var">hasNoTypeClassesExcept</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183446"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-comment">-- | A variant of 'hasNoTypeClasses', which white-lists some type-classes.</span><span>
</span><span id="line-268"></span><span class="hs-comment">--</span><span>
</span><span id="line-269"></span><span class="hs-comment">-- @'inspect' $ fieldLens ``hasNoTypeClassesExcept`` [''Functor]@</span><span>
</span><span id="line-270"></span><span class="hs-comment">--</span><span>
</span><span id="line-271"></span><span class="hs-comment">-- @since 0.3</span><span>
</span><span id="line-272"></span><span class="annot"><a href="Test.Inspection.html#hasNoTypeClassesExcept"><span class="hs-identifier hs-type">hasNoTypeClassesExcept</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-273"></span><span id="hasNoTypeClassesExcept"><span class="annot"><span class="annottext">hasNoTypeClassesExcept :: Name -&gt; [Name] -&gt; Obligation
</span><a href="Test.Inspection.html#hasNoTypeClassesExcept"><span class="hs-identifier hs-var hs-var">hasNoTypeClassesExcept</span></a></span></span><span> </span><span id="local-6989586621679183447"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183447"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679183448"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679183448"><span class="hs-identifier hs-var">tns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Property -&gt; Obligation
</span><a href="Test.Inspection.html#mkObligation"><span class="hs-identifier hs-var">mkObligation</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183447"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Property
</span><a href="Test.Inspection.html#NoTypeClasses"><span class="hs-identifier hs-var">NoTypeClasses</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679183448"><span class="hs-identifier hs-var">tns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="hs-comment">-- | Declare that a function's implementation does not use the given</span><span>
</span><span id="line-276"></span><span class="hs-comment">-- variable (either in terms or -- if it is a constructor -- in patterns).</span><span>
</span><span id="line-277"></span><span class="hs-comment">--</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- @'inspect' $ foo ``doesNotUse`` 'error@</span><span>
</span><span id="line-279"></span><span class="hs-comment">--</span><span>
</span><span id="line-280"></span><span class="hs-comment">-- @since 0.4.1</span><span>
</span><span id="line-281"></span><span class="annot"><a href="Test.Inspection.html#doesNotUse"><span class="hs-identifier hs-type">doesNotUse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-282"></span><span id="doesNotUse"><span class="annot"><span class="annottext">doesNotUse :: Name -&gt; Name -&gt; Obligation
</span><a href="Test.Inspection.html#doesNotUse"><span class="hs-identifier hs-var hs-var">doesNotUse</span></a></span></span><span> </span><span id="local-6989586621679183449"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183449"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679183450"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183450"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Property -&gt; Obligation
</span><a href="Test.Inspection.html#mkObligation"><span class="hs-identifier hs-var">mkObligation</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183449"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Property
</span><a href="Test.Inspection.html#NoUseOf"><span class="hs-identifier hs-var">NoUseOf</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183450"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span class="hs-comment">-- | Dump the Core of the value.</span><span>
</span><span id="line-285"></span><span class="hs-comment">--</span><span>
</span><span id="line-286"></span><span class="hs-comment">-- @'inspect' $ 'coreOf' 'foo@</span><span>
</span><span id="line-287"></span><span class="hs-comment">--</span><span>
</span><span id="line-288"></span><span class="hs-comment">-- This is useful when you need to inspect some values manually.</span><span>
</span><span id="line-289"></span><span class="hs-comment">--</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- @since 0.4.2</span><span>
</span><span id="line-291"></span><span class="annot"><a href="Test.Inspection.html#coreOf"><span class="hs-identifier hs-type">coreOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span>
</span><span id="line-292"></span><span id="coreOf"><span class="annot"><span class="annottext">coreOf :: Name -&gt; Obligation
</span><a href="Test.Inspection.html#coreOf"><span class="hs-identifier hs-var hs-var">coreOf</span></a></span></span><span> </span><span id="local-6989586621679183451"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183451"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Property -&gt; Obligation
</span><a href="Test.Inspection.html#mkObligation"><span class="hs-identifier hs-var">mkObligation</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183451"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Property
</span><a href="Test.Inspection.html#CoreOf"><span class="hs-identifier hs-var">CoreOf</span></a></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- The exported TH functions</span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="annot"><a href="Test.Inspection.html#inspectCommon"><span class="hs-identifier hs-type">inspectCommon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AnnTarget</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-297"></span><span id="inspectCommon"><span class="annot"><span class="annottext">inspectCommon :: AnnTarget -&gt; Obligation -&gt; Q [Dec]
</span><a href="Test.Inspection.html#inspectCommon"><span class="hs-identifier hs-var hs-var">inspectCommon</span></a></span></span><span> </span><span id="local-6989586621679183453"><span class="annot"><span class="annottext">AnnTarget
</span><a href="#local-6989586621679183453"><span class="hs-identifier hs-var">annTarget</span></a></span></span><span> </span><span id="local-6989586621679183454"><span class="annot"><span class="annottext">Obligation
</span><a href="#local-6989586621679183454"><span class="hs-identifier hs-var">obl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span class="hs-cpp">
#if MIN_VERSION_GLASGOW_HASKELL(8,4,0,0)
</span><span>    </span><span class="annot"><span class="annottext">String -&gt; Q ()
</span><span class="hs-identifier hs-var">addCorePlugin</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Test.Inspection.Plugin&quot;</span></span><span class="hs-cpp">
#endif
</span><span>    </span><span id="local-6989586621679183455"><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679183455"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Q Loc
</span><span class="hs-identifier hs-var">location</span></span><span>
</span><span id="line-302"></span><span>    </span><span id="local-6989586621679183457"><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621679183457"><span class="hs-identifier hs-var">annExpr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Obligation -&gt; Q Exp
forall (m :: * -&gt; *) a. (Quote m, Data a) =&gt; a -&gt; m Exp
</span><span class="hs-identifier hs-var">liftData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Obligation
</span><a href="#local-6989586621679183454"><span class="hs-identifier hs-var">obl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Test.Inspection.html#srcLoc"><span class="hs-identifier hs-var">srcLoc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">fromMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679183455"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Test.Inspection.html#srcLoc"><span class="hs-identifier hs-var">srcLoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679183454"><span class="hs-identifier hs-type">obl</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>    </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall a. a -&gt; Q a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Pragma -&gt; Dec
</span><span class="hs-identifier hs-var">PragmaD</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnTarget -&gt; Exp -&gt; Pragma
</span><span class="hs-identifier hs-var">AnnP</span></span><span> </span><span class="annot"><span class="annottext">AnnTarget
</span><a href="#local-6989586621679183453"><span class="hs-identifier hs-var">annTarget</span></a></span><span> </span><span class="annot"><span class="annottext">Exp
</span><a href="#local-6989586621679183457"><span class="hs-identifier hs-var">annExpr</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-304"></span><span>
</span><span id="line-305"></span><span class="hs-comment">-- | As seen in the example above, the entry point to inspection testing is the</span><span>
</span><span id="line-306"></span><span class="hs-comment">-- 'inspect' function, to which you pass an 'Obligation'.</span><span>
</span><span id="line-307"></span><span class="hs-comment">-- It will report test failures at compile time.</span><span>
</span><span id="line-308"></span><span class="hs-comment">--</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-310"></span><span class="annot"><a href="Test.Inspection.html#inspect"><span class="hs-identifier hs-type">inspect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-311"></span><span id="inspect"><span class="annot"><span class="annottext">inspect :: Obligation -&gt; Q [Dec]
</span><a href="Test.Inspection.html#inspect"><span class="hs-identifier hs-var hs-var">inspect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnnTarget -&gt; Obligation -&gt; Q [Dec]
</span><a href="Test.Inspection.html#inspectCommon"><span class="hs-identifier hs-var">inspectCommon</span></a></span><span> </span><span class="annot"><span class="annottext">AnnTarget
</span><span class="hs-identifier hs-var">ModuleAnnotation</span></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="hs-comment">-- | The result of 'inspectTest', which has a more or less helpful text message</span><span>
</span><span id="line-314"></span><span class="hs-comment">--</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- @since 0.2</span><span>
</span><span id="line-316"></span><span class="hs-keyword">data</span><span> </span><span id="Result"><span class="annot"><a href="Test.Inspection.html#Result"><span class="hs-identifier hs-var">Result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Failure"><span class="annot"><a href="Test.Inspection.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Success"><span class="annot"><a href="Test.Inspection.html#Success"><span class="hs-identifier hs-var">Success</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679183465"><span id="local-6989586621679183474"><span id="local-6989586621679183478"><span class="annot"><span class="annottext">Int -&gt; Result -&gt; ShowS
[Result] -&gt; ShowS
Result -&gt; String
(Int -&gt; Result -&gt; ShowS)
-&gt; (Result -&gt; String) -&gt; ([Result] -&gt; ShowS) -&gt; Show Result
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Result -&gt; ShowS
showsPrec :: Int -&gt; Result -&gt; ShowS
$cshow :: Result -&gt; String
show :: Result -&gt; String
$cshowList :: [Result] -&gt; ShowS
showList :: [Result] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="annot"><a href="Test.Inspection.html#didNotRunPluginError"><span class="hs-identifier hs-type">didNotRunPluginError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Inspection.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span>
</span><span id="line-320"></span><span id="didNotRunPluginError"><span class="annot"><span class="annottext">didNotRunPluginError :: Result
</span><a href="Test.Inspection.html#didNotRunPluginError"><span class="hs-identifier hs-var hs-var">didNotRunPluginError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Result -&gt; Result
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">lazy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Result
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Test.Inspection.Plugin did not run&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="annot"><a href="Test.Inspection.html#didNotRunPluginError"><span class="hs-pragma hs-type">didNotRunPluginError</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="hs-comment">-- | This is a variant of 'inspect' that allows compilation to succeed in any case,</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- and instead indicates the result as a value of type 'Result',</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- which allows seamless integration into test frameworks.</span><span>
</span><span id="line-326"></span><span class="hs-comment">--</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- This variant ignores the 'expectFail' field of the obligation. Instead,</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- it is expected that you use the corresponding functionality in your test</span><span>
</span><span id="line-329"></span><span class="hs-comment">-- framework (e.g. [@tasty-expected-failure@](https://hackage.haskell.org/package/tasty-expected-failure))</span><span>
</span><span id="line-330"></span><span class="hs-comment">--</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- @since 0.2</span><span>
</span><span id="line-332"></span><span class="annot"><a href="Test.Inspection.html#inspectTest"><span class="hs-identifier hs-type">inspectTest</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Inspection.html#Obligation"><span class="hs-identifier hs-type">Obligation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-333"></span><span id="inspectTest"><span class="annot"><span class="annottext">inspectTest :: Obligation -&gt; Q Exp
</span><a href="Test.Inspection.html#inspectTest"><span class="hs-identifier hs-var hs-var">inspectTest</span></a></span></span><span> </span><span id="local-6989586621679183484"><span class="annot"><span class="annottext">Obligation
</span><a href="#local-6989586621679183484"><span class="hs-identifier hs-var">obl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-334"></span><span>    </span><span id="local-6989586621679183485"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679183485"><span class="hs-identifier hs-var">nameS</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Q String
</span><a href="#local-6989586621679183486"><span class="hs-identifier hs-var">genName</span></a></span><span>
</span><span id="line-335"></span><span>    </span><span id="local-6989586621679183487"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183487"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Q Name
forall (q :: * -&gt; *). Quasi q =&gt; String -&gt; q Name
</span><a href="Test.Inspection.html#newUniqueName"><span class="hs-identifier hs-var">newUniqueName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679183485"><span class="hs-identifier hs-var">nameS</span></a></span><span>
</span><span id="line-336"></span><span>    </span><span id="local-6989586621679183489"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679183489"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AnnTarget -&gt; Obligation -&gt; Q [Dec]
</span><a href="Test.Inspection.html#inspectCommon"><span class="hs-identifier hs-var">inspectCommon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; AnnTarget
</span><span class="hs-identifier hs-var">ValueAnnotation</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183487"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Obligation
</span><a href="#local-6989586621679183484"><span class="hs-identifier hs-var">obl</span></a></span><span>
</span><span id="line-337"></span><span>    </span><span class="annot"><span class="annottext">[Dec] -&gt; Q ()
</span><span class="hs-identifier hs-var">addTopDecls</span></span><span> </span><span class="annot"><span class="annottext">([Dec] -&gt; Q ()) -&gt; [Dec] -&gt; Q ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-338"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type -&gt; Dec
</span><span class="hs-identifier hs-var">SigD</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183487"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Type
</span><span class="hs-identifier hs-var">ConT</span></span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Result</span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Pat -&gt; Body -&gt; [Dec] -&gt; Dec
</span><span class="hs-identifier hs-var">ValD</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Pat
</span><span class="hs-identifier hs-var">VarP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183487"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp -&gt; Body
</span><span class="hs-identifier hs-var">NormalB</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Exp
</span><span class="hs-identifier hs-var">VarE</span></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">didNotRunPluginError</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-340"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Pragma -&gt; Dec
</span><span class="hs-identifier hs-var">PragmaD</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Inline -&gt; RuleMatch -&gt; Phases -&gt; Pragma
</span><span class="hs-identifier hs-var">InlineP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183487"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Inline
</span><span class="hs-identifier hs-var">NoInline</span></span><span> </span><span class="annot"><span class="annottext">RuleMatch
</span><span class="hs-identifier hs-var">FunLike</span></span><span> </span><span class="annot"><span class="annottext">Phases
</span><span class="hs-identifier hs-var">AllPhases</span></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>        </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; [Dec] -&gt; [Dec]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679183489"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><span class="annottext">Exp -&gt; Q Exp
forall a. a -&gt; Q a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Exp -&gt; Q Exp) -&gt; Exp -&gt; Q Exp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Exp
</span><span class="hs-identifier hs-var">VarE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183487"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-344"></span><span>    </span><span id="local-6989586621679183486"><span class="annot"><span class="annottext">genName :: Q String
</span><a href="#local-6989586621679183486"><span class="hs-identifier hs-var hs-var">genName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-345"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679183505"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679183505"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679183506"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679183506"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Loc -&gt; (Int, Int)
</span><span class="hs-identifier hs-var">loc_start</span></span><span> </span><span class="annot"><span class="annottext">(Loc -&gt; (Int, Int)) -&gt; Q Loc -&gt; Q (Int, Int)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Q Loc
</span><span class="hs-identifier hs-var">location</span></span><span>
</span><span id="line-346"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; Q String
forall a. a -&gt; Q a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Q String) -&gt; String -&gt; Q String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;inspect_&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679183505"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679183506"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="hs-comment">-- | Like newName, but even more unique (unique across different splices),</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- and with unique @nameBase@s. Precondition: the string is a valid Haskell</span><span>
</span><span id="line-350"></span><span class="hs-comment">-- alphanumeric identifier (could be upper- or lower-case).</span><span>
</span><span id="line-351"></span><span id="local-6989586621679183101"><span class="annot"><a href="Test.Inspection.html#newUniqueName"><span class="hs-identifier hs-type">newUniqueName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Quasi</span></span><span> </span><span class="annot"><a href="#local-6989586621679183101"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679183101"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span></span><span>
</span><span id="line-352"></span><span id="newUniqueName"><span class="annot"><span class="annottext">newUniqueName :: forall (q :: * -&gt; *). Quasi q =&gt; String -&gt; q Name
</span><a href="Test.Inspection.html#newUniqueName"><span class="hs-identifier hs-var hs-var">newUniqueName</span></a></span></span><span> </span><span id="local-6989586621679183520"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679183520"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-353"></span><span>  </span><span id="local-6989586621679183521"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183521"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; q Name
forall (q :: * -&gt; *). Quasi q =&gt; String -&gt; q Name
</span><span class="hs-identifier hs-var">qNewName</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679183520"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-354"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; q Name
forall (q :: * -&gt; *). Quasi q =&gt; String -&gt; q Name
</span><span class="hs-identifier hs-var">qNewName</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; q Name) -&gt; String -&gt; q Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679183521"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-355"></span><span class="hs-comment">-- This is from https://ghc.haskell.org/trac/ghc/ticket/13054#comment:1</span><span>
</span><span id="line-356"></span></pre></body></html>